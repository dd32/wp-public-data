{
    "name": "Leaflet Map",
    "slug": "leaflet-map",
    "version": "3.4.1",
    "author": "<a href=\"https://bozdoz.com/\">bozdoz</a>",
    "author_profile": "https://profiles.wordpress.org/bozdoz/",
    "contributors": {
        "bozdoz": {
            "profile": "https://profiles.wordpress.org/bozdoz/",
            "avatar": "https://secure.gravatar.com/avatar/8b31dc588b0d8c50dcd5b3fc25d7ed60?s=96&d=monsterid&r=g",
            "display_name": "bozdoz"
        },
        "hupe13": {
            "profile": "https://profiles.wordpress.org/hupe13/",
            "avatar": "https://secure.gravatar.com/avatar/fa400e60d0c8c4c19744c8b034732b72?s=96&d=monsterid&r=g",
            "display_name": "hupe13"
        },
        "remigr": {
            "profile": "https://profiles.wordpress.org/remigr/",
            "avatar": "https://secure.gravatar.com/avatar/a519a8283caf163df7b721ee0bbf160f?s=96&d=monsterid&r=g",
            "display_name": "remigr"
        },
        "gerital": {
            "profile": "https://profiles.wordpress.org/gerital/",
            "avatar": "https://secure.gravatar.com/avatar/62e7732e586290cf117806eb4707418f?s=96&d=monsterid&r=g",
            "display_name": "Gerald"
        }
    },
    "requires": "4.6",
    "tested": "6.6.1",
    "requires_php": false,
    "requires_plugins": [],
    "compatibility": [],
    "rating": 98,
    "ratings": {
        "5": 53,
        "4": 3,
        "3": 0,
        "2": 0,
        "1": 0
    },
    "num_ratings": 56,
    "support_url": "https://wordpress.org/support/plugin/leaflet-map/",
    "support_threads": 7,
    "support_threads_resolved": 3,
    "active_installs": 30000,
    "downloaded": 414211,
    "last_updated": "2024-07-22 02:54:00",
    "added": "2014-05-07",
    "homepage": "https://wordpress.org/plugins/leaflet-map/",
    "sections": {
        "description": "<p>Add a map generated with <a href=\"http://leafletjs.com/\" rel=\"nofollow ugc\">LeafletJS</a>: an open-source JavaScript library for mobile-friendly interactive maps. Map tiles are provided by default through <a href=\"http://www.openstreetmap.org/\" rel=\"nofollow ugc\">OpenStreetMap</a>, or <a href=\"https://www.mapquest.ca/\" rel=\"nofollow ugc\">MapQuest</a> (with an app key).  Can be set per map with shortcode attributes or through the dashboard settings.</p>\n<h4>Maps</h4>\n<p>Simply create a <strong>map</strong> with:</p>\n<pre><code>[leaflet-map]\n</code></pre>\n<p>Lookup an address with:</p>\n<pre><code>[leaflet-map address=\"chicago\"]\n</code></pre>\n<p>Know the latitude and longitude of a location? Use them (and a zoom level) with:</p>\n<pre><code>[leaflet-map lat=44.67 lng=-63.61 zoom=5]\n</code></pre>\n<p>Add a <strong>marker</strong> under your map shortcode, like so:</p>\n<pre><code>[leaflet-map]\n[leaflet-marker]\n</code></pre>\n<p>Want more? Make more (and fit the map to contain all of them):</p>\n<pre><code>[leaflet-map fitbounds]\n[leaflet-marker address=\"tokyo\"]\n[leaflet-marker address=\"oslo\"]\n[leaflet-marker address=\"cairo\"]\n[leaflet-marker address=\"toronto\"]\n</code></pre>\n<p>You can even add <strong>popups</strong> (to any shape) with their names:</p>\n<pre><code>[leaflet-map fitbounds]\n[leaflet-marker address=\"tokyo\"]Tokyo[/leaflet-marker]\n[leaflet-marker address=\"oslo\"]Oslo[/leaflet-marker]\n...\n</code></pre>\n<p>Add a link to the popup messages the same way you would add any other link with the WordPress editor.</p>\n<h4>Other Shapes, GeoJSON, and KML</h4>\n<p>Add a line to the map by adding <code>[leaflet-line]</code>. You can specify the postions with a list separated by semi-colon <code>;</code> or bar <code>|</code> using lat/lng: <code>[leaflet-line latlngs=\"41, 29; 44, 18\"]</code> or addresses: <code>[leaflet-line addresses=\"Istanbul; Sarajevo\"]</code>, or x/y coordinates for image maps.</p>\n<p>Add a circle to the map by adding <code>[leaflet-circle]</code>. You can specify the position using <code>lat</code> and <code>lng</code> and the radius in meters using <code>radius</code>. You can also customize the style using <a href=\"https://leafletjs.com/reference.html#path-option\" rel=\"nofollow ugc\">Leaflet&#8217;s Path options</a>. Example: <code>[leaflet-circle message=\"max distance\" lng=5.117909610271454 lat=52.097914814706094 radius=17500 color=\"#0DC143\" fillOpacity=0.1]</code>.</p>\n<p>Or you can add a geojson shape via a url (make sure you are allowed to access it if it&#8217;s not hosted on your own server): <code>[leaflet-geojson src=\"https://example.com/path/to.geojson\"]</code>.  Add custom popups with field names; try out the default src file and fields like so:</p>\n<pre><code>[leaflet-map fitbounds]\n[leaflet-geojson]{name}[/leaflet-geojson]\n\n\nname is a property on that GeoJSON, and it can be accessed with curly brackets and the property name.\n</code></pre>\n<h4>Image Maps</h4>\n<p>Alternatively, you could use a plain image for visitors to zoom and pan around with <code>[leaflet-image src=\"path/to/image/file.jpg\"]</code>.  See screenshots 3 &#8211; 5 for help setting that up.</p>\n<h4>More</h4>\n<p>Check out other examples on the Shortcode Helper page in the Leaflet Map admin section.</p>\n<p>Check out the <strong>source code</strong> and <strong>more</strong> details on <a href=\"https://github.com/bozdoz/wp-plugin-leaflet-map\" rel=\"nofollow ugc\">GitHub</a>!</p>\n",
        "installation": "<ol>\n<li>Choose to add a new plugin, then click upload</li>\n<li>Upload the leaflet-map zip</li>\n<li>Activate the plugin through the &#8216;Plugins&#8217; menu in WordPress</li>\n<li>Use the shortcodes in your pages or posts: e.g. <code>[leaflet-map]</code> and <code>[leaflet-marker]</code></li>\n</ol>\n",
        "faq": "\n<dt id='can%20i%20have%20an%20svg%20marker%3F'>\nCan I have an SVG Marker?\n</h4>\n<p>\n<p>Yes! Convert the default marker into an svg with a shortcode like this: <code>[leaflet-marker svg color=\"white\" iconClass=\"fab fa-wordpress-simple\" background=\"red\"]</code> The <code>iconClass</code> is perfect for adding a <a href=\"https://fontawesome.com/icons?d=gallery\" rel=\"nofollow ugc\">font-awesome</a> icon.</p>\n</p>\n<dt id='how%20do%20i%20change%20the%20style%20for%20lines%2Fgeojson%3F'>\nHow do I change the style for lines/geojson?\n</h4>\n<p>\n<p>Pass the style attributes to the respective shortcodes (see all options on <a href=\"http://leafletjs.com/reference-1.0.3.html#path\" rel=\"nofollow ugc\">LeafletJS</a>):</p>\n<pre><code>[leaflet-line color=\"red\" weight=10 dasharray=\"2,15\" addresses=\"Halifax, NS; Tanzania\" classname=marching-ants]\n</code></pre>\n</p>\n<dt id='can%20i%20add%20geojson%3F'>\nCan I add geojson?\n</h4>\n<p>\n<p>Yes, just give it a source URL: <code>[leaflet-geojson src=\"https://example.com/path/to.geojson\"]</code> It will also support leaflet geojson styles or geojson.io styles. Add a popup message with <code>[leaflet-geojson popup_text=\"hello!\"]</code>, or add HTML by adding it to the content of the shortcode: <code>[leaflet-geojson]&lt;a href=\"#\"&gt;Link here, or use text from a feature property, like {title}&lt;/a&gt;[/leaflet-geojson]</code> or identify a geojson property with <code>popup_property</code>, and each shape will use its own popup text if available.</p>\n</p>\n<dt id='can%20i%20add%20kml%2Fgpx%3F'>\nCan I add kml/gpx?\n</h4>\n<p>\n<p>Sure!? Use the same attributes as leaflet-geojson (above), but use the <code>[leaflet-kml]</code> or <code>[leaflet-gpx]</code> shortcode.</p>\n</p>\n<dt id='can%20i%20add%20wms%3F'>\nCan I add wms?\n</h4>\n<p>\n<p>Sure. Use the same attributes as leaflet-map, but use the <code>[leaflet-wms]</code> shortcode; attributes include: <code>src</code>, <code>layer</code>, and <code>crs</code>.</p>\n</p>\n<dt id='can%20i%20add%20a%20message%20to%20a%20marker%3F'>\nCan I add a message to a marker?\n</h4>\n<p>\n<p>Yes: <code>[leaflet-marker visible]Hello there![/leaflet-marker]</code>, where visible designates if it is visible on page load. Otherwise it is only visible when clicked.</p>\n</p>\n<dt id='can%20i%20use%20your%20plugin%20with%20a%20picture%20instead%20of%20a%20map%3F'>\nCan I use your plugin with a picture instead of a map?\n</h4>\n<p>\n<p>Yes: Use <code>[leaflet-image src=\"path/to/image/file.jpg\"]</code>.  See screenshots 3 &#8211; 5 for help setting that up.</p>\n</p>\n<dt id='can%20i%20use%20my%20own%20self-hosted%20leaflet%20files%3F'>\nCan I use my own self-hosted Leaflet files?\n</h4>\n<p>\n<p>Yes: Add your custom URL to the options in the admin page.</p>\n</p>\n<dt id='how%20can%20i%20add%20a%20link%20to%20a%20marker%3F'>\nHow can I add a link to a marker?\n</h4>\n<p>\n<p>Use the marker format <code>[leaflet-marker]Click here![/leaflet-marker]</code> and add a hyperlink like you normally would with the WordPress editor.</p>\n</p>\n<dt id='i%20need%20more%20functions%21'>\nI need more functions!\n</h4>\n<p>\n<p>Take a look at the functions of <a href=\"https://wordpress.org/plugins/extensions-leaflet-map/\" rel=\"ugc\">Extensions for Leaflet Map</a>.</p>\n</p>\n<dt id='additional%20questions%3F'>\nAdditional questions?\n</h4>\n<p>\n<p>For more FAQs, please visit the <a href=\"https://github.com/bozdoz/wp-plugin-leaflet-map#frequently-asked-questions\" rel=\"nofollow ugc\">FAQ section on GitHub here</a>.</p>\n</p>\n\n",
        "changelog": "<h4>3.4.0</h4>\n<ul>\n<li>[Update] Compatible with PHP 8.2</li>\n</ul>\n<h4>3.4.0</h4>\n<ul>\n<li>[Feature] New [leaflet-wms] layer! Thanks @jannefleischer!</li>\n</ul>\n<h4>3.3.1</h4>\n<ul>\n<li>[Update] Default Leaflet map set at v1.9.4 </li>\n<li>[Security] Escapes geojson popup properties to prevent XSS attacks</li>\n<li>[Bug] Updates &#8220;!attribution&#8221; or &#8220;attribution=0&#8221; attributes to actually remove attribution</li>\n<li>[Bug] Switches SANITIZE_FULL with SANITIZE to to allow &#8220;German umlauts&#8221;</li>\n<li>[Bug] Fixes some issues when a map&#8217;s max zoom differs from a tile layer&#8217;s max zoom</li>\n</ul>\n<h4>3.3.0</h4>\n<ul>\n<li>Adds &#8216;leaflet_map_popup_message&#8217; filter for manipulating popup messages</li>\n</ul>\n<h4>3.2.0</h4>\n<ul>\n<li>Adds banner if default js is out-of-sync</li>\n<li>Adds do_shortcode in popups</li>\n<li>Fixes error if geocoder fails to get a lat/lng</li>\n<li>Fixes deprecated warnings in php 8.1</li>\n<li>Fixes detect retina and maxzoom issues</li>\n</ul>\n<h4>3.1.0</h4>\n<ul>\n<li>Bumps leaflet default version to 1.9.3</li>\n<li>Checks for <code>lat</code> and <code>lon</code> in osm_geocode with <code>isset</code></li>\n<li>Adds min, max, step to inputs for zoom, minZoom, and maxZoom</li>\n<li>Obfuscates base tileurl with base64_encode in map-shortcode to deter crawlers</li>\n<li>Adds <code>tooltipAnchor</code> to geojson and marker shortcodes</li>\n<li>Default maxZoom is 19, down from 20</li>\n<li>Allows for comma-separated tile server subdomains, as opposed to &#8216;abc&#8217; turning into &#8216;a&#8217;,&#8217;b&#8217;,&#8217;c&#8217; automatically (i.e. you can now use something like &#8220;cache-1,cache2&#8221; as default subdomains)</li>\n<li>Adds new shortcodes: [leaflet-image-overlay] and [leaflet-video-overlay] (examples in the shortcode-helper page, or README.md)</li>\n</ul>\n<h4>3.0.5</h4>\n<ul>\n<li>Fixes ampersands in geojson/gpx/kml urls</li>\n</ul>\n<h4>3.0.4</h4>\n<ul>\n<li>Fixes markers so that they can accept <code>0</code> as a value for x/y and lat/lng coordinates</li>\n</ul>\n<h4>3.0.3</h4>\n<ul>\n<li>Fixes using <code>popupAnchor</code> without passing <code>iconUrl</code></li>\n</ul>\n<h4>3.0.2</h4>\n<ul>\n<li>Another fix for commas in float coordinates.</li>\n<li>Fix validation of tile urls.</li>\n<li>Fix for php 5.6 using static function methods.</li>\n</ul>\n<h4>3.0.1</h4>\n<ul>\n<li>Fixes some issues with float coordinates that use commas instead of decimals</li>\n<li>Fixes some quotes in addresses for geocoding</li>\n</ul>\n<h4>3.0.0</h4>\n<ul>\n<li>Fixes security issues in admin and in shortcode attributes.  Escapes and filters many inputs.</li>\n</ul>\n<h4>2.23.3</h4>\n<ul>\n<li>changes &#8216;leaflet_map_enqueue&#8217; action to fire for each map</li>\n</ul>\n<h4>2.23.2</h4>\n<ul>\n<li>actual bugfix to multiple or missing enqueue map scripts</li>\n</ul>\n<h4>2.23.1</h4>\n<ul>\n<li>possible bugfix to failing to enqueue map when shortcode rendered </li>\n</ul>\n<h4>2.23.0</h4>\n<ul>\n<li>Added iconUrl to leaflet-geojson shortcode.</li>\n<li>bugfix to number inputs in admin accepting either integers or decimals but not both (couldn&#8217;t switch types)</li>\n</ul>\n<h4>2.22.1</h4>\n<ul>\n<li>hotfix to tile url attributions not being numeric and stripping slashes.</li>\n</ul>\n<h4>2.22.0</h4>\n<ul>\n<li>Adds tilesize, mapid, accesstoken, zoomoffset, nowrap to leaflet-map shortcode and default settings; helpful for mapbox tile urls</li>\n</ul>\n<h4>2.21.0</h4>\n<ul>\n<li>Fixes issues with tilelayers when min_zoom and max_zoom are identical and detect_retina is true</li>\n<li>Adds (advanced) default liquid-like filter to template tags: [leaflet-geojson]{Properties.Name | default: No Name}[/leaflet-geojson]</li>\n</ul>\n<h4>2.20.0</h4>\n<ul>\n<li>Adds tap and !tap option to [leaflet-map]</li>\n<li>Adds (advanced) raw filter syntax for map options: [leaflet-map dragging=&#8221;{!L.Browser.mobile | raw}&#8221;]</li>\n</ul>\n<h4>2.19.1</h4>\n<ul>\n<li>Bumps leaflet version to 1.7.1</li>\n<li>Removes &#8220;\\r\\n&#8221; from default attribution</li>\n<li>Uses min and max zoom in tileurl as well as map</li>\n</ul>\n<h4>2.19.0</h4>\n<ul>\n<li>Adds [leaflet-scale] and global option in admin</li>\n<li>Removes unnecessary console.log</li>\n</ul>\n<h4>2.18.0</h4>\n<ul>\n<li>Adds table-view to leaflet-geojson: [leaflet-geojson table-view]</li>\n<li>Creates maps in order their containers are rendered (no unique ids)</li>\n</ul>\n<h4>2.17.3</h4>\n<ul>\n<li>Bugfix to detect retina breaking MapQuest maps since 2.17.0</li>\n</ul>\n<h4>2.17.2</h4>\n<ul>\n<li>Unparenthesized ternaries are deprecated in php 7.4</li>\n</ul>\n<h4>2.17.1</h4>\n<ul>\n<li>Lazy-loading svg and geojson scripts so that it can wait for Leaflet to be loaded under some circumstances (deferred scripts)</li>\n</ul>\n<h4>2.17.0</h4>\n<ul>\n<li>Adds <code>detect-retina</code> to plugin options and <code>leaflet-map</code> shortcode</li>\n<li>Makes shortcode in excerpts conditional (enable it in admin-&gt;leaflet-map-&gt;settings)</li>\n</ul>\n<h4>2.16.2</h4>\n<ul>\n<li>Fix to wpautop by removing spaces in javascript</li>\n</ul>\n<h4>2.16.1</h4>\n<ul>\n<li>Updates default Leaflet to 1.6.0</li>\n<li>Adds optional circle markers as [leaflet-geojson circleMarker]</li>\n<li>removes random unique map id&#8217;s for caching purposes</li>\n</ul>\n<h4>2.16.0</h4>\n<ul>\n<li>allow author roles to see shortcodes</li>\n<li>adds [leaflet-polygon] shortcode</li>\n<li>makes map ids unique; removes auto-incremented map counts</li>\n</ul>\n<h4>2.15.0</h4>\n<ul>\n<li>Updates rawgit URL&#8217;s to use jsdelivr, unpkg, and githubusercontent.com</li>\n<li>Change logo to use FontAwesome SVG</li>\n<li>Adds referer to file_get_contents, in case curl is disabled</li>\n<li>Updates default Leaflet to 1.5.1</li>\n<li>Fixes reset default values button in settings</li>\n<li>Requires at least WordPress 4.6</li>\n<li>ToGeoJSON library URL is customizable</li>\n</ul>\n<h4>2.14.0</h4>\n<ul>\n<li>Fix <code>visible</code> att in popups.</li>\n<li>Adds nested property accessors to geojson popup text: <code>{attributes.email}</code></li>\n<li>Adds negation to shortcode attributes with an exclamation mark: e.g. Disable all interaction with <code>[leaflet-map address=\"las vegas\" !boxZoom !doubleClickZoom !dragging !keyboard !scrollwheel !attribution !touchZoom]</code></li>\n<li>Fix case-sensitive <code>boxZoom</code></li>\n<li>Add <code>touchZoom</code> to map attributes</li>\n<li>Fix icon-related anchor attributes (numbers instead of strings)</li>\n</ul>\n<h4>2.13.0</h4>\n<ul>\n<li>Updated LeafletJS to 1.4.0</li>\n<li>Replaced <code>fit_markers</code> with <code>fitbounds</code>, which now fits all shapes in map view</li>\n</ul>\n<h4>2.12.0</h4>\n<ul>\n<li>Re-added Google Geocoder (optional), since they forced billing accounts</li>\n<li>Fixed links in shortcode helper page</li>\n<li>Fixed issue with marker popups that had single quotes</li>\n<li>Loading leaflet scripts and styles only when a map shortcode is used</li>\n<li>Added fitbounds to leaflet-map (to replace fit_markers someday)</li>\n</ul>\n<h4>2.11.5</h4>\n<ul>\n<li>Added assumed-boolean attributes to all shortcodes; ex: <code>[leaflet-marker draggable svg]</code> would be the same as <code>[leaflet-marker draggable=1 svg=1]</code></li>\n</ul>\n<h4>2.11.4</h4>\n<ul>\n<li>Fix to a race condition issue with custom scripts changing leaflet rendering methods</li>\n</ul>\n<h4>2.11.3</h4>\n<ul>\n<li>Fix to an issue with rendering circles</li>\n</ul>\n<h4>2.11.2</h4>\n<ul>\n<li>Allow scripts to be deferred, and still render maps reliably</li>\n<li>Add a circle to the map by adding <code>[leaflet-circle]</code></li>\n</ul>\n<h4>2.11.1</h4>\n<ul>\n<li>Added Dockerfiles to github</li>\n<li>Made OpenStreetMap default geocoder in light of new Google API payment plans</li>\n</ul>\n<h4>2.11.0</h4>\n<ul>\n<li>Added Popup Anchor for custom markers</li>\n<li>Added SVG Markers</li>\n<li>Added actions and filters</li>\n</ul>\n<h4>2.10.1</h4>\n<ul>\n<li>Fix for plugin settings not being included (somehow)</li>\n</ul>\n<h4>2.10.0</h4>\n<ul>\n<li>Added functions for translating text</li>\n<li>Added string interpolation for GeoJSON popups to use feature properties (thanks to <a href=\"https://github.com/geraldo\" rel=\"nofollow ugc\">@geraldo</a>)</li>\n</ul>\n<h4>2.9.1</h4>\n<ul>\n<li>Fixes for PHP 7.2: made all method arguments identical </li>\n<li>Added minified JavaScript files for site speed</li>\n</ul>\n<h4>2.8.6</h4>\n<ul>\n<li>Added [leaflet-gpx] for GPX format</li>\n</ul>\n<h4>2.8.6</h4>\n<ul>\n<li>Fix image shortcode ratio</li>\n</ul>\n<h4>2.8.5</h4>\n<ul>\n<li>Added missing files from 2.8.4</li>\n</ul>\n<h4>2.8.4</h4>\n<ul>\n<li>Fixed issues with css and js CDN; removed version from querystring</li>\n<li>Split admin into new class</li>\n</ul>\n<h4>2.8.3</h4>\n<ul>\n<li>Fix to [leaflet-kml]</li>\n<li>Standardized <code>src</code> in leaflet-image and leaflet-geojson/kml</li>\n</ul>\n<h4>2.8.2</h4>\n<ul>\n<li>Fix to image maps</li>\n<li>Fixes to geocoder</li>\n<li>Added multi-line popups to markers and geojson/kml</li>\n</ul>\n<h4>2.8.1</h4>\n<ul>\n<li>Code cleanup</li>\n<li>Added server-side and client-side methods to prevent WordPress from adding paragraph tags within shortcode tags</li>\n</ul>\n<h4>2.8.0</h4>\n<ul>\n<li>Added Fit Markers to settings and map shortcode: [leaflet-map fit_markers=1]</li>\n<li>Moved geojson/kml popup text to the shortcode content instead of a property so that you can use links or other HTML</li>\n</ul>\n<h4>2.7.8</h4>\n<ul>\n<li>update default Leaflet version (1.1.0 from 1.0.3)</li>\n</ul>\n<h4>2.7.7</h4>\n<ul>\n<li>added default lat/lngs in the admin; and reordered admin fields to be more user friendly</li>\n</ul>\n<h4>2.7.6</h4>\n<ul>\n<li>added optional cURL to get geolocations if file_get_contents is not allowed on a server (note: cURL needs to be enabled, obviously)</li>\n</ul>\n<h4>2.7.5</h4>\n<ul>\n<li>fixed filter_var_array throwing errors in old PHP too</li>\n</ul>\n<h4>2.7.4</h4>\n<ul>\n<li>Added settings link to plugins page</li>\n</ul>\n<h4>2.7.3</h4>\n<ul>\n<li>Fix to array_filter on some PHP versions.</li>\n</ul>\n<h4>2.7.2</h4>\n<ul>\n<li>Fix to possible JavaScript error &#8220;Unexpected token &lt;&#8220;; only happened when a plugin/theme used <code>wpautop</code>; fix was to remove spaces.</li>\n</ul>\n<p><h4>2.7.1</h4>\n</p>\n<ul>\n<li>Removed unnecessary map counts;</li>\n</ul>\n<p><h4>2.7.0</h4>\n</p>\n<ul>\n<li>Added basic marker icon support (with attributes &#8220;iconUrl&#8221;, &#8220;iconAnchor&#8221;, etc.);</li>\n</ul>\n<p><h4>2.6.0</h4>\n</p>\n<ul>\n<li>Changes to map creation which may solve an occasional marker creation JavaScript error </li>\n<li>Added more attributes to marker shortcode (draggable, title, alt, opacity)</li>\n<li>Added doubleClickZoom global, database option to globally disable double click zooming (by default), because it&#8217;s more inline with disabling scroll zooming by default. Box zooming on the other hand is more intentional</li>\n</ul>\n<p><h4>2.5.0</h4>\n</p>\n<ul>\n<li>Some improvements to the codebase; </li>\n<li>added the same styling options for lines as there are for geojson; </li>\n<li>added popups to lines, as there are for markers;</li>\n<li>added an example to the shortcode admin page for the style attributes on lines;</li>\n<li>added code and another example for disabling all map interactions (all zooms, keyboard, etc);</li>\n</ul>\n<p><h4>2.4.0</h4>\n</p>\n<ul>\n<li>Added Leaflet 1.0.2 scripts by default (works!);</li>\n</ul>\n<p><h4>2.3.0</h4>\n</p>\n<ul>\n<li>Added KML support <code>[leaflet-kml]</code>;</li>\n</ul>\n<p><h4>2.2.0</h4>\n</p>\n<ul>\n<li>Added popup_text and popup_property to leaflet-geojson to bind popups via a shortcode property or geojson properties</li>\n</ul>\n<p><h4>2.1.0</h4>\n</p>\n<ul>\n<li>Added Leaflet and GeoJSON.io styles to geojson shortcode</li>\n</ul>\n<p><h4>2.0.2</h4>\n</p>\n<ul>\n<li>OpenStreetMap.org has an SSL certificate (osm.org didn&#8217;t); not a significant upgrade.</li>\n</ul>\n<p><h4>2.0.1</h4>\n</p>\n<ul>\n<li>Changed ajax request to be compatible with some versions of IE.</li>\n</ul>\n<p><h4>2.0</h4>\n</p>\n<ul>\n<li>Needed to add support for a MapQuest app key, since they discontinued the direct access of their tiles on July 11, 2016; added an alternate OpenStreetMap tile URL as the new default. Remember to reset options to default values!</li>\n</ul>\n<p><h4>1.16</h4>\n</p>\n<ul>\n<li>Added bare geojson support</li>\n</ul>\n<p><h4>1.15</h4>\n</p>\n<ul>\n<li>Removed shortcode brackets from leaflet-marker shortcode</li>\n</ul>\n<p><h4>1.14</h4>\n</p>\n<ul>\n<li>Fixed slashes in optional map attribution</li>\n</ul>\n<p><h4>1.13</h4>\n</p>\n<ul>\n<li>Added new geocoder options (thanks to <a href=\"https://github.com/nielsalstrup\" rel=\"nofollow ugc\">@nielsalstrup</a> for DAWA and <a href=\"https://github.com/nielsalstrup\" rel=\"nofollow ugc\">@jeromelebleu</a> for OSM)</li>\n</ul>\n<p><h4>1.12</h4>\n</p>\n<ul>\n<li>Added htmlspecialchars in admin.php, and custom attributions. Bugfix : removed position in admin menu so it doesn&#8217;t overwrite or be overwritten (thanks to <a href=\"https://github.com/ziodave\" rel=\"nofollow ugc\">@ziodave</a>)</li>\n</ul>\n<p><h4>1.11</h4>\n</p>\n<ul>\n<li>Added HTTPS support.</li>\n</ul>\n<p><h4>1.10</h4>\n</p>\n<ul>\n<li>Added lines to the map, thanks to <a href=\"https://github.com/Remigr\" rel=\"nofollow ugc\">@Remigr</a>!</li>\n</ul>\n<p><h4>1.9</h4>\n</p>\n<ul>\n<li>Added ability to use hyperlinks in marker messages.</li>\n</ul>\n<p><h4>1.8</h4>\n</p>\n<ul>\n<li>Added ability to self-host leaflet files.</li>\n</ul>\n<p><h4>1.7</h4>\n</p>\n<ul>\n<li>Uploaded 1.6 to subversion incorrectly!</li>\n</ul>\n<p><h4>1.6</h4>\n</p>\n<ul>\n<li>Important fix to conflicts with other plugins!</li>\n</ul>\n<p><h4>1.5</h4>\n</p>\n<ul>\n<li>Some helpful js fixes for multiple window onload functions, and added the <code>leaflet-image</code> shortcode!</li>\n</ul>\n<p><h4>1.4</h4>\n</p>\n<ul>\n<li>Some fixes for Google geocoding, and switched cookies to db options.</li>\n</ul>\n<p><h4>1.3</h4>\n</p>\n<ul>\n<li>Added cookies for Google geocoding to cut back on requests.</li>\n</ul>\n<p><h4>1.2</h4>\n</p>\n<ul>\n<li>Added geocoding to map: <code>[leaflet-map address=\"halifax, ns\"]</code>.</li>\n</ul>\n<p><h4>1.1</h4>\n</p>\n<ul>\n<li>Added messages to markers.</li>\n</ul>\n<h4>1.0</h4>\n<ul>\n<li>First Version. Basic map creation and marker creation.</li>\n</ul>\n"
    },
    "short_description": "Interactive maps and markers on your posts and pages with simple shortcodes.",
    "description": "<p>Add a map generated with <a href=\"http://leafletjs.com/\" rel=\"nofollow ugc\">LeafletJS</a>: an open-source JavaScript library for mobile-friendly interactive maps. Map tiles are provided by default through <a href=\"http://www.openstreetmap.org/\" rel=\"nofollow ugc\">OpenStreetMap</a>, or <a href=\"https://www.mapquest.ca/\" rel=\"nofollow ugc\">MapQuest</a> (with an app key).  Can be set per map with shortcode attributes or through the dashboard settings.</p>\n<h4>Maps</h4>\n<p>Simply create a <strong>map</strong> with:</p>\n<pre><code>[leaflet-map]\n</code></pre>\n<p>Lookup an address with:</p>\n<pre><code>[leaflet-map address=\"chicago\"]\n</code></pre>\n<p>Know the latitude and longitude of a location? Use them (and a zoom level) with:</p>\n<pre><code>[leaflet-map lat=44.67 lng=-63.61 zoom=5]\n</code></pre>\n<p>Add a <strong>marker</strong> under your map shortcode, like so:</p>\n<pre><code>[leaflet-map]\n[leaflet-marker]\n</code></pre>\n<p>Want more? Make more (and fit the map to contain all of them):</p>\n<pre><code>[leaflet-map fitbounds]\n[leaflet-marker address=\"tokyo\"]\n[leaflet-marker address=\"oslo\"]\n[leaflet-marker address=\"cairo\"]\n[leaflet-marker address=\"toronto\"]\n</code></pre>\n<p>You can even add <strong>popups</strong> (to any shape) with their names:</p>\n<pre><code>[leaflet-map fitbounds]\n[leaflet-marker address=\"tokyo\"]Tokyo[/leaflet-marker]\n[leaflet-marker address=\"oslo\"]Oslo[/leaflet-marker]\n...\n</code></pre>\n<p>Add a link to the popup messages the same way you would add any other link with the WordPress editor.</p>\n<h4>Other Shapes, GeoJSON, and KML</h4>\n<p>Add a line to the map by adding <code>[leaflet-line]</code>. You can specify the postions with a list separated by semi-colon <code>;</code> or bar <code>|</code> using lat/lng: <code>[leaflet-line latlngs=\"41, 29; 44, 18\"]</code> or addresses: <code>[leaflet-line addresses=\"Istanbul; Sarajevo\"]</code>, or x/y coordinates for image maps.</p>\n<p>Add a circle to the map by adding <code>[leaflet-circle]</code>. You can specify the position using <code>lat</code> and <code>lng</code> and the radius in meters using <code>radius</code>. You can also customize the style using <a href=\"https://leafletjs.com/reference.html#path-option\" rel=\"nofollow ugc\">Leaflet&#8217;s Path options</a>. Example: <code>[leaflet-circle message=\"max distance\" lng=5.117909610271454 lat=52.097914814706094 radius=17500 color=\"#0DC143\" fillOpacity=0.1]</code>.</p>\n<p>Or you can add a geojson shape via a url (make sure you are allowed to access it if it&#8217;s not hosted on your own server): <code>[leaflet-geojson src=\"https://example.com/path/to.geojson\"]</code>.  Add custom popups with field names; try out the default src file and fields like so:</p>\n<pre><code>[leaflet-map fitbounds]\n[leaflet-geojson]{name}[/leaflet-geojson]\n\n\nname is a property on that GeoJSON, and it can be accessed with curly brackets and the property name.\n</code></pre>\n<h4>Image Maps</h4>\n<p>Alternatively, you could use a plain image for visitors to zoom and pan around with <code>[leaflet-image src=\"path/to/image/file.jpg\"]</code>.  See screenshots 3 &#8211; 5 for help setting that up.</p>\n<h4>More</h4>\n<p>Check out other examples on the Shortcode Helper page in the Leaflet Map admin section.</p>\n<p>Check out the <strong>source code</strong> and <strong>more</strong> details on <a href=\"https://github.com/bozdoz/wp-plugin-leaflet-map\" rel=\"nofollow ugc\">GitHub</a>!</p>\n",
    "download_link": "https://downloads.wordpress.org/plugin/leaflet-map.3.4.1.zip",
    "upgrade_notice": {
        "3.3.1": "<ul>\n<li>Escapes geojson popup properties to prevent XSS attacks</li>\n</ul>",
        "3.2.0": "<ul>\n<li>Fixes error if geocoder fails to get a lat/lng</li>\n<li>Fixes deprecated warnings in php 8.1</li>\n<li>Fixes detect retina and maxzoom issues</li>\n</ul>",
        "3.1.0": "<p>Reduces php warnings by checking for <code>lat</code> and <code>lon</code> in osm_geocode with <code>isset()</code>.\nAdds min, max, step to inputs for zoom, minZoom, and maxZoom.\nObfuscates base tileurl with base64_encode in map-shortcode to deter crawlers.\nAllows for comma-separated tile server subdomains, as opposed to &#039;abc&#039; turning into &#039;a&#039;,&#039;b&#039;,&#039;c&#039; automatically (i.e. you can now use something like &quot;cache-1,cache2&quot; as default subdomains).\nNew Shortcodes: [leaflet-image-overlay] and [leaflet-video-overlay] (examples in the shortcode-helper page, or README.md).</p>",
        "3.0.5": "<p>Fixes ampersands/querystrings in geojson/gpx/kml urls</p>",
        "3.0.4": "<p>Fixes markers so that they can accept <code>0</code> as a value for x/y and lat/lng coordinates</p>",
        "3.0.3": "<p>Fixes using <code>popupAnchor</code> without passing <code>iconUrl</code></p>",
        "3.0.2": "<p>Another fix for commas in float coordinates. Fix validation of tile urls. Fix for php 5.6 using static function methods.</p>",
        "3.0.1": "<p>Fixes some issues with float coordinates that use commas instead of decimals, and fixes some quotes in addresses for geocoding</p>",
        "3.0.0": "<p>Fixes security issues in admin and in shortcode attributes.  Escapes and filters many inputs.</p>",
        "2.23.3": "<p>Changes &#039;leaflet_map_enqueue&#039; action to fire for each map</p>",
        "2.23.2": "<p>Actual bugfix to multiple or missing enqueue map scripts</p>",
        "2.23.1": "<p>Possible bugfix to ensuring javascript is enqueued when map is rendered</p>",
        "2.23.0": "<p>Minor bugfix to number-type inputs in admin that couldn&#039;t switch types between decimals and integers</p>",
        "2.21.0": "<p>Fixes issues with tilelayers when min_zoom and max_zoom are identical and detect_retina is true</p>",
        "2.19.1": "<p>Bumps leaflet version to 1.7.1\nRemoves &quot;\\r\\n&quot; from default attribution\nUses min and max zoom in tileurl as well as map</p>",
        "2.18.0": "<p>Changes the way maps are rendered: Now creates map containers before creating maps, in the same order the containers are rendered. This should help with ajax, caching, and script-altering plugins.</p>",
        "2.17.3": "<p>Bugfix to detect retina breaking MapQuest maps since 2.17.0</p>",
        "2.17.1": "<p>Lazy-loading svg and geojson scripts so that it can wait for Leaflet to be loaded under some circumstances (deferred scripts)</p>",
        "2.17.0": "<p>Makes shortcode in excerpts conditional (enable it in admin-&gt;leaflet-map-&gt;settings)</p>",
        "2.16.2": "<p>Fixes missing maps by removing spaces in the JavaScript which some themes turn into paragraphs</p>",
        "2.16.1": "<p>Updates default Leaflet to 1.6.0\nChanges map generation from a pre-defined randomly identified div element to a JavaScript generated div which is created (insertBefore) each inserted script tag</p>",
        "2.16.0": "<p>Adds [leaflet-polygon]\nAllows author roles to see shortcodes page</p>",
        "2.15.0": "<p>Adds referer to file_get_contents, in case curl is disabled\nUpdates default Leaflet to 1.5.1\nFixes reset default values button in settings\nRequires at least WordPress 4.6</p>",
        "2.12.0": "<p>Fixed links in shortcode helper page; fixed issue with marker popups that had single quotes; loading leaflet scripts and styles only when a map shortcode is used</p>",
        "2.11.4": "<p>Fix to a race condition issue with custom scripts changing leaflet rendering methods</p>",
        "2.11.3": "<p>Fix for rendering circles (fix to 2.11.2)</p>",
        "2.10.1": "<p>Fix for plugin settings not being included (somehow)</p>",
        "2.9.1": "<p>Fix for PHP7.2; added minified JavaScript files</p>",
        "2.8.6": "<p>Fix image shortcode ratio</p>",
        "2.8.5": "<p>Fix to missing files in 2.8.4</p>",
        "2.8.4": "<p>Fixed issues with css and js CDN; removed version from querystring</p>",
        "2.8.3": "<p>Fixed issues with leaflet-kml</p>",
        "2.8.2": "<p>Fixed issues with image maps and geocoder addresses</p>",
        "2.7.6": "<p>added optional cURL to get geolocations if file_get_contents is not allowed on a server (cURL needs to be enabled, obviously)</p>",
        "2.7.5": "<p>fixed filter_var_array throwing errors in old PHP</p>",
        "2.7.3": "<p>Fixed array_filter on some older PHP versions</p>",
        "2.7.2": "<p>Fixed possible JavaScript error &quot;Unexpected token</p>",
        "2.6.0": "<p>Changes to map creation which may solve an occasional marker creation JavaScript error</p>",
        "2.0.2": "<p>OpenStreetMap.org has an SSL certificate (osm.org didn&#039;t)</p>",
        "2.0.1": "<p>GeoJSON ajax requests now work with Internet Explorer (some versions)</p>",
        "2.0": "<p>MapQuest tiles will no longer work without an app key!</p>",
        "1.15": "<p>Fixed incompatibility with plugins that execute recursive shortcodes</p>",
        "1.14": "<p>Fixed slashes in optional map attribution</p>",
        "1.12": "<p>Added htmlspecialchars in admin.php, and custom attributions. Bugfix : removed position in admin menu so it doesn&#039;t overwrite or be overwritten (thanks to <a href=\"https://github.com/ziodave\">@ziodave</a>)</p>",
        "1.6": "<p>Removed windows onload functions and created a construct and init js file for initiating the maps when Leaflet is ready (other plugins were overwriting windows.onload).</p>",
        "1.5": "<p>Improved stability for multiple plugins with windows onload functions.</p>",
        "1.0": "<p>First Version. Tested with 3.8.1.</p>"
    },
    "screenshots": [
        {
            "src": "https://ps.w.org/leaflet-map/assets/screenshot-1.png?rev=1032346",
            "caption": "Put the shortcode into the post."
        },
        {
            "src": "https://ps.w.org/leaflet-map/assets/screenshot-2.png?rev=909474",
            "caption": "See the shortcode play out on the front end."
        },
        {
            "src": "https://ps.w.org/leaflet-map/assets/screenshot-3.png?rev=1032347",
            "caption": "For <code>[leaflet-image]</code> upload an image, and copy the URL from the right-hand side"
        },
        {
            "src": "https://ps.w.org/leaflet-map/assets/screenshot-4.png?rev=1032347",
            "caption": "For <code>[leaflet-image]</code> paste that image URL into an attribute titled <code>source</code>: example: <code>src=\"https://picsum.photos/1000/1000/\"</code>."
        },
        {
            "src": "https://ps.w.org/leaflet-map/assets/screenshot-5.png?rev=1032347",
            "caption": "See the <code>[leaflet-image]</code> on the front end."
        },
        {
            "src": "https://ps.w.org/leaflet-map/assets/screenshot-6.png?rev=1034235",
            "caption": "If you use <code>[leaflet-marker draggable]</code>, then you can drag the marker where you want it, open a developers console, and see the specific shortcode to use."
        },
        {
            "src": "https://ps.w.org/leaflet-map/assets/screenshot-7.png?rev=1439891",
            "caption": "Add geojson via URL: <code>[leaflet-geojson src=\"https://example.com/path/to.geojson\"]</code>"
        },
        {
            "src": "https://ps.w.org/leaflet-map/assets/screenshot-8.png?rev=1453163",
            "caption": "MapQuest requires an app key, get it from their website; alternatively, you can use OpenStreetMap as a free tile service (remember to add an attribution where necessary)."
        }
    ],
    "tags": {
        "javascript": "javascript",
        "leaflet": "leaflet",
        "map": "map",
        "mobile": "mobile",
        "openstreetmap": "openstreetmap"
    },
    "stable_tag": "3.4.1",
    "versions": {
        "2.10.0": "https://downloads.wordpress.org/plugin/leaflet-map.2.10.0.zip",
        "2.10.1": "https://downloads.wordpress.org/plugin/leaflet-map.2.10.1.zip",
        "2.11.0": "https://downloads.wordpress.org/plugin/leaflet-map.2.11.0.zip",
        "2.11.1": "https://downloads.wordpress.org/plugin/leaflet-map.2.11.1.zip",
        "2.11.2": "https://downloads.wordpress.org/plugin/leaflet-map.2.11.2.zip",
        "2.11.3": "https://downloads.wordpress.org/plugin/leaflet-map.2.11.3.zip",
        "2.11.4": "https://downloads.wordpress.org/plugin/leaflet-map.2.11.4.zip",
        "2.11.5": "https://downloads.wordpress.org/plugin/leaflet-map.2.11.5.zip",
        "2.12.0": "https://downloads.wordpress.org/plugin/leaflet-map.2.12.0.zip",
        "2.13.0": "https://downloads.wordpress.org/plugin/leaflet-map.2.13.0.zip",
        "2.14.0": "https://downloads.wordpress.org/plugin/leaflet-map.2.14.0.zip",
        "2.15.0": "https://downloads.wordpress.org/plugin/leaflet-map.2.15.0.zip",
        "2.16.0": "https://downloads.wordpress.org/plugin/leaflet-map.2.16.0.zip",
        "2.16.1": "https://downloads.wordpress.org/plugin/leaflet-map.2.16.1.zip",
        "2.16.2": "https://downloads.wordpress.org/plugin/leaflet-map.2.16.2.zip",
        "2.17.0": "https://downloads.wordpress.org/plugin/leaflet-map.2.17.0.zip",
        "2.17.1": "https://downloads.wordpress.org/plugin/leaflet-map.2.17.1.zip",
        "2.17.2": "https://downloads.wordpress.org/plugin/leaflet-map.2.17.2.zip",
        "2.17.3": "https://downloads.wordpress.org/plugin/leaflet-map.2.17.3.zip",
        "2.18.0": "https://downloads.wordpress.org/plugin/leaflet-map.2.18.0.zip",
        "2.19.0": "https://downloads.wordpress.org/plugin/leaflet-map.2.19.0.zip",
        "2.19.1": "https://downloads.wordpress.org/plugin/leaflet-map.2.19.1.zip",
        "2.20.0": "https://downloads.wordpress.org/plugin/leaflet-map.2.20.0.zip",
        "2.21.0": "https://downloads.wordpress.org/plugin/leaflet-map.2.21.0.zip",
        "2.22.0": "https://downloads.wordpress.org/plugin/leaflet-map.2.22.0.zip",
        "2.22.1": "https://downloads.wordpress.org/plugin/leaflet-map.2.22.1.zip",
        "2.23.0": "https://downloads.wordpress.org/plugin/leaflet-map.2.23.0.zip",
        "2.23.1": "https://downloads.wordpress.org/plugin/leaflet-map.2.23.1.zip",
        "2.23.2": "https://downloads.wordpress.org/plugin/leaflet-map.2.23.2.zip",
        "2.23.3": "https://downloads.wordpress.org/plugin/leaflet-map.2.23.3.zip",
        "3.0.0": "https://downloads.wordpress.org/plugin/leaflet-map.3.0.0.zip",
        "3.0.1": "https://downloads.wordpress.org/plugin/leaflet-map.3.0.1.zip",
        "3.0.2": "https://downloads.wordpress.org/plugin/leaflet-map.3.0.2.zip",
        "3.0.3": "https://downloads.wordpress.org/plugin/leaflet-map.3.0.3.zip",
        "3.0.4": "https://downloads.wordpress.org/plugin/leaflet-map.3.0.4.zip",
        "3.0.5": "https://downloads.wordpress.org/plugin/leaflet-map.3.0.5.zip",
        "3.1.0": "https://downloads.wordpress.org/plugin/leaflet-map.3.1.0.zip",
        "3.2.0": "https://downloads.wordpress.org/plugin/leaflet-map.3.2.0.zip",
        "3.3.0": "https://downloads.wordpress.org/plugin/leaflet-map.3.3.0.zip",
        "3.3.1": "https://downloads.wordpress.org/plugin/leaflet-map.3.3.1.zip",
        "3.4.0": "https://downloads.wordpress.org/plugin/leaflet-map.3.4.0.zip",
        "3.4.1": "https://downloads.wordpress.org/plugin/leaflet-map.3.4.1.zip",
        "trunk": "https://downloads.wordpress.org/plugin/leaflet-map.zip"
    },
    "business_model": false,
    "repository_url": "",
    "commercial_support_url": "",
    "donate_link": "https://www.paypal.me/bozdoz",
    "banners": {
        "low": "https://ps.w.org/leaflet-map/assets/banner-772x250.png?rev=1693083",
        "high": "https://ps.w.org/leaflet-map/assets/banner-1544x500.png?rev=1693083"
    },
    "icons": {
        "1x": "https://ps.w.org/leaflet-map/assets/icon-128x128.png?rev=1693083",
        "2x": "https://ps.w.org/leaflet-map/assets/icon-256x256.png?rev=1693083"
    },
    "blocks": [],
    "block_assets": [],
    "author_block_count": 0,
    "author_block_rating": 98,
    "blueprints": [],
    "preview_link": "",
    "language_packs": [
        {
            "type": "plugin",
            "slug": "leaflet-map",
            "language": "de_DE_formal",
            "version": "3.4.1",
            "updated": "2024-04-03 22:29:43",
            "package": "https://downloads.wordpress.org/translation/plugin/leaflet-map/3.4.1/de_DE_formal.zip"
        },
        {
            "type": "plugin",
            "slug": "leaflet-map",
            "language": "de_DE",
            "version": "3.4.1",
            "updated": "2024-04-03 22:29:52",
            "package": "https://downloads.wordpress.org/translation/plugin/leaflet-map/3.4.1/de_DE.zip"
        },
        {
            "type": "plugin",
            "slug": "leaflet-map",
            "language": "en_CA",
            "version": "3.4.1",
            "updated": "2019-09-12 14:44:56",
            "package": "https://downloads.wordpress.org/translation/plugin/leaflet-map/3.4.1/en_CA.zip"
        },
        {
            "type": "plugin",
            "slug": "leaflet-map",
            "language": "es_VE",
            "version": "3.4.1",
            "updated": "2020-09-22 02:15:00",
            "package": "https://downloads.wordpress.org/translation/plugin/leaflet-map/3.4.1/es_VE.zip"
        },
        {
            "type": "plugin",
            "slug": "leaflet-map",
            "language": "es_ES",
            "version": "3.4.1",
            "updated": "2023-07-26 17:42:31",
            "package": "https://downloads.wordpress.org/translation/plugin/leaflet-map/3.4.1/es_ES.zip"
        },
        {
            "type": "plugin",
            "slug": "leaflet-map",
            "language": "fr_FR",
            "version": "3.4.1",
            "updated": "2024-07-24 14:59:15",
            "package": "https://downloads.wordpress.org/translation/plugin/leaflet-map/3.4.1/fr_FR.zip"
        },
        {
            "type": "plugin",
            "slug": "leaflet-map",
            "language": "ru_RU",
            "version": "3.4.1",
            "updated": "2023-05-27 18:12:45",
            "package": "https://downloads.wordpress.org/translation/plugin/leaflet-map/3.4.1/ru_RU.zip"
        }
    ]
}