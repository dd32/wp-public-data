{
    "name": "Notification for Telegram",
    "slug": "notification-for-telegram",
    "version": "3.3.1",
    "author": "Andrea Marinucci",
    "author_profile": "https://profiles.wordpress.org/rainafarai/",
    "contributors": {
        "rainafarai": {
            "profile": "https://profiles.wordpress.org/rainafarai/",
            "avatar": "https://secure.gravatar.com/avatar/9c6ef1492bccb29418c4ba6125aca5ac?s=96&d=monsterid&r=g",
            "display_name": "rainafarai"
        }
    },
    "requires": "4.0",
    "tested": "6.4.5",
    "requires_php": "7.4",
    "requires_plugins": [],
    "compatibility": [],
    "rating": 98,
    "ratings": {
        "5": 59,
        "4": 1,
        "3": 0,
        "2": 0,
        "1": 1
    },
    "num_ratings": 61,
    "support_url": "https://wordpress.org/support/plugin/notification-for-telegram/",
    "support_threads": 1,
    "support_threads_resolved": 0,
    "active_installs": 3000,
    "downloaded": 24120,
    "last_updated": "2024-02-22 12:14pm GMT",
    "added": "2020-09-17",
    "homepage": "https://www.reggae.it/my-wordpress-plugins",
    "sections": {
        "description": "<p>The &#8220;Notification for Telegram&#8221; plugin for WordPress is a tool that allows you to send notifications and messages to a Telegram channel, group or user/s when specific events occur on your WordPress site. This plugin is useful for monitoring critical events on your site, such as new comments, new user registrations, publishing activities, New forms sent,  Woocommerce orders, cart and lowstock, Mailchimp and more, by sending notifications directly to a Telegram channel or group or user/s of your choice. It also offers a shortcode to send Telegram notifications on every page of your website or in your code.</p>\n<p>Receive Telegram messages notification when:</p>\n<ul>\n<li>When receive a new order in Woocommerce.</li>\n<li>When a Woocommerce order change status.</li>\n<li>New field in Woocommerce checkout page let customers add the own telegram nickname</li>\n<li>Low Stock Product notifications when a product is low stock conditions.</li>\n<li>Shows Telegram Nick link in admin order details page when present</li>\n<li>When receive new forms (supports Elementor Pro Form, WPForm , CF7 and Ninjaform)</li>\n<li>When new user subscribes  or unsubscribes to mailchimp. MC4WP integration</li>\n<li>When new user registers.</li>\n<li>When users login or fail login.</li>\n<li>When new comment is posted.</li>\n<li>When someone adds or remove a product in the Woocommerce cart.</li>\n<li>When a new Pending posts is received. (works with any post type)</li>\n<li>Say function to speak to make the bot say Something to the people</li>\n<li>Cron job detect and notify when Plugins &amp; Core need to update. </li>\n<li>Send custom message with Shortcode anywhere in your WP.</li>\n<li>Should Work on Multisite</li>\n</ul>\n<p>You can enable/disable every notification in the Plugin settings page.</p>\n<p>To configure the plugin, you need a valid Telegram API token. Its easy to get starting a Telegram Bot.<br />\nYou can learn about obtaining  tokens and generating new ones in<br />\n<a href=\"https://core.telegram.org/bots#6-botfather/\" title=\"Obtaining tokens and generating new ones\" rel=\"nofollow ugc\">this document</a><br />\nor follow the info in <a href=\"https://medium.com/shibinco/create-a-telegram-bot-using-botfather-and-get-the-api-token-900ba00e0f39\" title=\"Create a Telegram bot using BotFather and Get the Api Token\" rel=\"nofollow ugc\">this post</a></p>\n<p>You also need at least one &#8220;chatid&#8221; number, that is the recipient to the message will be send. To know you personal chatid number, search on telegram app for &#8220;@get_id_bot&#8221; or<br />\n<a href=\"https://telegram.me/chatIDrobot/\" title=\"@chatIDrobot\" rel=\"nofollow ugc\">click here </a>  OR  another bot @RawDataBot <a href=\"https://t.me/RawDataBot\" rel=\"nofollow ugc\">click here </a></p>\n<p>Once You got the 2 fields save the configuration and try the &#8220;TEST&#8221; button .. you should receive a message in you telegram : &#8220;WOW IT WORKS&#8221; !! If not, check token and chatid fields again for the correct values.</p>\n<p>this plugin is relying on a 3rd party service to geolocate the Ip address https://ip-api.com/<br />\nhttps://ip-api.com/docs/legal  to see the servicesâ€™ a terms of use and/or privacy policies</p>\n<p>SHORTCODE EXAMPLE</p>\n<pre><code>[telegram_mess  message=\"Im so happy\" chatids=\"0000000,\" token=\"000000000:AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" showsitename=\"1\" showip=\"1\" showcity=\"1\" ]\n</code></pre>\n<p>SHORTCODE OPTIONS:</p>\n<ul>\n<li>\n<p>message : Your message to be sent. Example (message=&#8221;hello world&#8221;)</p>\n</li>\n<li>\n<p>chatids : Recipient(s) who will receive your message separated by comma (example chatids=&#8221;0000000,11111111&#8243;) , If not present this field  the shortcode will use default value in Plugin option page.</p>\n</li>\n<li>\n<p>token:  The token looks something like 123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11<br />\nIf not present this field, the shortcode will use default value in Plugin option page.</p>\n</li>\n<li>\n<p>showsitename: if set to &#8220;1&#8221; appends sitename after the message. Defaultvalue is &#8220;0&#8221; Example (showsitename=&#8221;1&#8243;)</p>\n</li>\n<li>\n<p>showip: if set to &#8220;1&#8221; appends user ip address after the message. Default value is &#8220;0&#8221; Example (showip=&#8221;1&#8243;)</p>\n</li>\n<li>\n<p>showcity: if set to &#8220;1&#8221; appends user city name after the message. Default value is &#8220;0&#8221; Example (showcity=&#8221;1&#8243;)</p>\n</li>\n</ul>\n<p>USE SHORTCODE IN YOU PHP CODE</p>\n<pre><code>&lt;?php\n\n$date = date(\"d-m-Y\");\n\ndo_shortcode('[telegram_mess  message=\"'.$date .'\" chatids=\"0000000,\" token=\"000000000:AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" showsitename=\"1\" showip=\"1\" showcity=\"1\" ]'); \n\n?&gt;\n</code></pre>\n<p>** WOOCOMERCE FILTER HOOKS **</p>\n<p>We have created 4 filter hooks for WooCommerce order notification message. 4 new positions: Message Header, Message Footer, before Items, and after Items. And we have created a filter through which you can add custom code to product rows, and if you want, you can replace and customize the entire row. :</p>\n<p>4 new Positions and code axample ( echo payment_status in the 4 positions)</p>\n<pre><code>&lt;?php\nadd_filter('nftb_order_header_message_hook', 'my_filter_function', 10, 1); \nadd_filter('nftb_order_before_items_hook', 'my_filter_function', 10, 1);\nadd_filter('nftb_order_after_items_hook', 'my_filter_function', 10, 1);\nadd_filter('nftb_order_footer_message_hook', 'my_filter_function', 10, 1);\n\nfunction my_filter_function($order_id) {\n  $order = wc_get_order($order_id);\n  if ($order) {\n      // Get order details\n      $order_data = $order-&gt;get_data();\n\n      // Extract specific order information\n\n      $payment_status = $order-&gt;get_status();\n      $payment_method = $order-&gt;get_payment_method();  \n  }\n  return  \"\\r\\n\\r\\n\".$payment_method.\"(\".$payment_status.\")\\r\\n\" ;\n}\n?&gt;\n</code></pre>\n<p>Product rows Filter with 2 different behaviors ADD or REPLACE LINE</p>\n<pre><code>&lt;?php\nadd_filter('nftb_order_product_line_hook', 'my_item_line_function', 10, 3);\n\nfunction my_item_line_function($message ,$product_id, $item) {\n\n    // ADD SOME CODE $product_id TO ORIGINAL row $message.\n    $modified_data = $message. \"-&gt;\".$product_id. \"\\r\\n\";\n\n    // REPLACE Product ITEM LINE CODE WITH YOUR CODE  without concatenate $message.\n    $modified_data = $product_id. \"\\r\\n\";\n\n    return $modified_data;\n} \n?&gt;\n</code></pre>\n<p>** USER LOGIN HOOKS **</p>\n<pre><code>&lt;?php\n//Filter to add code on user login notification message\nadd_filter('nftb_login_notification', 'custom_message_modifier', 10, 1);\n\n//Filter to add code  on user registration notification message\nadd_filter('nftb_user_registered_notification', 'custom_message_modifier', 10, 1);\n\n//Filter to add code when existing user fails login notification message\nadd_filter('nftb_existing_user_fails_login_notification', 'custom_message_modifier', 10, 1);\n\n//Filter to add code when unknown user fails login notification message\nadd_filter('nftb_unknown_user_fails_login_notification', 'custom_message_modifier', 10, 1);\n\n\n\n// ADD User registration date to notification message\nfunction custom_message_modifier( $user_id) {\n\n    $user_info = get_userdata($user_id);\n\n    if ($user_info) {\n        $registration_date = $user_info-&gt;user_registered;\n        $timestamp = strtotime($registration_date);\n        $locale = 'it_IT'; // Italian locale\n\n        $formatter = new IntlDateFormatter($locale, IntlDateFormatter::LONG, IntlDateFormatter::LONG, 'UTC');\n        $formatter-&gt;setPattern('d MMMM y HH:mm:ss');\n\n        $formatted_date = $formatter-&gt;format($timestamp);\n        $message =  \"\\r\\n\\r\\nUser gistration Date: \" . $formatted_date.\"\\r\\n\\r\\n\";\n    } else {\n\n      $message =  \"\\r\\n No info about user ! \\r\\n \" ;\n\n    }\n\n\n    return $message;\n}\n?&gt;\n</code></pre>\n<p>before the hooks we introduced 3 function so you can add things in message without changing the plug code<br />\nWe keep them for compatibility but encourage the use of hooks!!<br />\nPosition in the order message are:  before items, after items, product_line</p>\n<p>1) before the product list : (add order ID example)</p>\n<pre><code>&lt;?php function nftb_order_before_items($order_id){\n        return \"ORDER ID : \".$order_id; \n    } ?php&gt;\n</code></pre>\n<p>2) after the product list: (add order Currency example)</p>\n<pre><code>&lt;?php function nftb_order_after_items($order_id){\n    $order = wc_get_order( $order_id );\n        $data = $order-&gt;get_data(); // order data\n        return \"Currency: \".$data['currency']; \n    } ?php&gt;\n</code></pre>\n<p>3) at the end of the line of each individual product of the order: (add product slug example)</p>\n<pre><code>&lt;?php function nftb_order_product_line($product_id,$item){\n     $product = wc_get_product( $product_id );\n        return \" | \".$product-&gt;get_slug().\" \";\n        } ?php&gt;\n</code></pre>\n<p>Suggestions for other Notification, hooks and others plug integrations are Welcome !!</p>\n",
        "installation": "<p>This section describes how to install the plugin and get it working.</p>\n<p>e.g.</p>\n<ol>\n<li>Upload the plugin files to the <code>/wp-content/plugins/plugin-name</code> directory, or install the plugin through the WordPress plugins screen directly.</li>\n<li>Activate the plugin through the &#8216;Plugins&#8217; screen in WordPress</li>\n<li>Use the Settings-&gt;Plugin Name screen to configure the plugin</li>\n<li>(Make your instructions match the desired user flow for activating and installing your plugin. Include any steps that might be needed for explanatory purposes)</li>\n</ol>\n",
        "faq": "\n<dt id='how%20to%20obtain%20token%3F'>\nHow to obtain Token?\n</h4>\n<p>\n<p>When You create a telegram bot you will get a Token.<br />\nBotFather @botfather is the one bot to rule them all. It will help you create new bots and change settings for existing ones.</p>\n<p>search for @botfather</p>\n<p>Creating a new bot<br />\nUse the /newbot command to create a new bot. The BotFather will ask you for a name and username, then generate an authorization token for your new bot.</p>\n<p>The name of your bot is displayed in contact details and elsewhere.</p>\n<p>The Username is a short name, to be used in mentions and t.me links. Usernames are 5-32 characters long and are case insensitive, but may only include Latin characters, numbers, and underscores. Your bot&#8217;s username must end in &#8216;bot&#8217;, e.g. &#8216;tetris_bot&#8217; or &#8216;TetrisBot&#8217;.</p>\n<p>The token is a string along the lines of 110201543:AAHdqTcvCH1vGWJxfSeofSAs0K5PALDsaw that is required to authorize the bot and send requests to the Bot API. Keep your token secure and store it safely, it can be used by anyone to control your bot.</p>\n<p>Generating an authorization token.<br />\nIf your existing token is compromised or you lost it for some reason, use the /token command to generate a new one.</p>\n</p>\n<dt id='how%20to%20obtain%20the%20chat_id%20of%20a%20private%20telegram%20channel%3F'>\nHow to obtain the chat_id of a private Telegram channel?\n</h4>\n<p>\n<p>The easiest way is to invite @get_id_bot in your chat and then type:</p>\n<p>/my_id @get_id_bot</p>\n<p>or search in telegram @RawDataBot -&gt; https://t.me/RawDataBot  write something and the bot<br />\nwill reply your account info with the id .</p>\n</p>\n<dt id='can%20i%20insert%20more%20than%20one%20recipient%20chatid%3F'>\nCan i insert more than one recipient chatid?\n</h4>\n<p>\n<p>Yes you can add more than one chattid  separated by a comma (,)<br />\nboth in option page and in the shortcode.</p>\n</p>\n\n",
        "changelog": "<h4>3.3.1</h4>\n<p>Added html_entity_decode to clean HTML entity<br />\nfix check if user is set before apply_filters(&#8216;nftb_login_notification&#8217;)<br />\nFix in user login sometimes the userdata was empty<br />\nFix Warning: Undefined array key &#8220;notify_update&#8221; &#8220;notify_update_time&#8221; php &gt; 8</p>\n<h4>3.3</h4>\n<p>Fix on  apply_filters(&#8216;nftb_existing_user_* return empty if not set<br />\nAdded User Role info in the message when a registered user fails to login<br />\nAdded Spam Filter on comment. If enabled you will not receive notification if comment is marked as spam</p>\n<h4>3.2</h4>\n<p>Fix: &#8220;Wc order change status&#8221; was triggering the comment notification remove order_shop post type.<br />\nSmall fixes on user message formatting CR<br />\nRemoved all the calls to Extarnal plugin activator &amp; link to webpage</p>\n<h4>3.1</h4>\n<p>Added notification for new comment</p>\n<h4>3.0</h4>\n<p>Added Succes User Login notification<br />\nAdded donation link to block the random message &#8220;Im really happy you are using my plugin !!&#8221;.<br />\nAdded a notification for removed products from cart.<br />\nAdded Customer Order Note from Wc checkout page.<br />\nAdded Option &#8220;Do not Remove  from the telegram messages&#8221;.<br />\nAdded IP address for any User Login Notification not just the map<br />\nFix Enable notifications when user login fails.</p>\n<p>Added 4 REAL WOOCOMERCE notification HOOKS : nftb_order_product_line_hook, nftb_order_header_message_hook, nftb_order_before_items_hook,<br />\nnftb_order_after_items_hook, nftb_order_footer_message_hook .</p>\n<p>Addes 4 REAL USER LOGIN notification HOOKS<br />\nnftb_login_notification, nftb_user_registered_notification , nftb_existing_user_fails_login_notification, nftb_unknown_user_fails_login_notification</p>\n<p>Added $item to the function -&gt; nftb_order_product_line($product_id,$item); (wsjrcatarri request)</p>\n<h4>2.9</h4>\n<p>Added Support for Elementor Form<br />\nUser Login notification new Layout more clear<br />\nFix Function get_userdatabylogin (deprecated) on User login<br />\nBetter Jquery validations ( token and chatids ) on config page</p>\n<h4>2.8</h4>\n<p>Fixed Shortcode</p>\n<h4>2.7</h4>\n<p>Fixed Many Notice on woocommerce order confirmation Thankyou page.<br />\nAdded customer total orders number in order confirmation message.</p>\n<h4>2.6</h4>\n<p>Added Customer Phone Number in order message (Everybody Asking :=) )</p>\n<h4>2.5</h4>\n<ul>\n<li>Formatted fields for CF7 Contact Form no more Var_dump()</li>\n<li>Added 3 Hooks in Order notification to add your custom code without modify plugin code</li>\n<li>Updated instructions to get your telegram chat_id number </li>\n</ul>\n<h4>2.4</h4>\n<ul>\n<li>Added Support for WPFORM : all fields in you telegram notification</li>\n<li>New Option in Woocommerce Tab : Hide/view Billing Information</li>\n<li>New Option in Woocommerce Tab : Hide/view Shipping Information</li>\n<li>Small UI fix </li>\n</ul>\n<h4>2.3</h4>\n<ul>\n<li>Fix warning on PHP 8</li>\n</ul>\n<h4>2.2</h4>\n<ul>\n<li>New option to select the woocommerce trigger for the notification with 3 different actions:<br />\nwoocommerce_checkout_order_processed / woocommerce_payment_complete / woocommerce_thankyou</li>\n<li>Show items price with tax or not </li>\n<li>Fixed activation notice error </li>\n</ul>\n<h4>2.0</h4>\n<p>New Backend UserGUI Tab division for better User Experience<br />\nFull fields Order Notification (Items shipment, billing, is paid?, and many order details)<br />\nLow Stock Product Enable notifications when a product is low stock conditions.<br />\nCreate a input field in wc check-out page for Telegram nickname.<br />\nSay function to speak to make the bot say Something to the people<br />\nMC4WP Mailchimp for WordPress plugin integration send a notification when new user subscribes to mailchimp or unsubscribes<br />\nCron message Setup a Cron job to keep updated about Plugins &amp; Core Update<br />\nAdded Emoji to messages</p>\n<h4>1.6</h4>\n<p>now you can enable a new field in Woocommerce checkout page let customers add his telegram nickname</p>\n<h4>1.4</h4>\n<p>Fix new order received and Order status change<br />\nNo duplication now !!</p>\n<h4>1.3</h4>\n<p>Fix message text in shortcode was blank before</p>\n<h4>1.2</h4>\n<p>Add new option on woocommerce notification : only on new orders or on any order status change</p>\n<h4>1.1</h4>\n<p>add icons</p>\n<h4>1.0</h4>\n<p>Initial release</p>\n"
    },
    "short_description": "The &quot;Notification for Telegram&quot; plugin for WordPress is a tool that allows you to send notifications and messages to a Telegram channel, gro &hellip;",
    "description": "<p>The &#8220;Notification for Telegram&#8221; plugin for WordPress is a tool that allows you to send notifications and messages to a Telegram channel, group or user/s when specific events occur on your WordPress site. This plugin is useful for monitoring critical events on your site, such as new comments, new user registrations, publishing activities, New forms sent,  Woocommerce orders, cart and lowstock, Mailchimp and more, by sending notifications directly to a Telegram channel or group or user/s of your choice. It also offers a shortcode to send Telegram notifications on every page of your website or in your code.</p>\n<p>Receive Telegram messages notification when:</p>\n<ul>\n<li>When receive a new order in Woocommerce.</li>\n<li>When a Woocommerce order change status.</li>\n<li>New field in Woocommerce checkout page let customers add the own telegram nickname</li>\n<li>Low Stock Product notifications when a product is low stock conditions.</li>\n<li>Shows Telegram Nick link in admin order details page when present</li>\n<li>When receive new forms (supports Elementor Pro Form, WPForm , CF7 and Ninjaform)</li>\n<li>When new user subscribes  or unsubscribes to mailchimp. MC4WP integration</li>\n<li>When new user registers.</li>\n<li>When users login or fail login.</li>\n<li>When new comment is posted.</li>\n<li>When someone adds or remove a product in the Woocommerce cart.</li>\n<li>When a new Pending posts is received. (works with any post type)</li>\n<li>Say function to speak to make the bot say Something to the people</li>\n<li>Cron job detect and notify when Plugins &amp; Core need to update. </li>\n<li>Send custom message with Shortcode anywhere in your WP.</li>\n<li>Should Work on Multisite</li>\n</ul>\n<p>You can enable/disable every notification in the Plugin settings page.</p>\n<p>To configure the plugin, you need a valid Telegram API token. Its easy to get starting a Telegram Bot.<br />\nYou can learn about obtaining  tokens and generating new ones in<br />\n<a href=\"https://core.telegram.org/bots#6-botfather/\" title=\"Obtaining tokens and generating new ones\" rel=\"nofollow ugc\">this document</a><br />\nor follow the info in <a href=\"https://medium.com/shibinco/create-a-telegram-bot-using-botfather-and-get-the-api-token-900ba00e0f39\" title=\"Create a Telegram bot using BotFather and Get the Api Token\" rel=\"nofollow ugc\">this post</a></p>\n<p>You also need at least one &#8220;chatid&#8221; number, that is the recipient to the message will be send. To know you personal chatid number, search on telegram app for &#8220;@get_id_bot&#8221; or<br />\n<a href=\"https://telegram.me/chatIDrobot/\" title=\"@chatIDrobot\" rel=\"nofollow ugc\">click here </a>  OR  another bot @RawDataBot <a href=\"https://t.me/RawDataBot\" rel=\"nofollow ugc\">click here </a></p>\n<p>Once You got the 2 fields save the configuration and try the &#8220;TEST&#8221; button .. you should receive a message in you telegram : &#8220;WOW IT WORKS&#8221; !! If not, check token and chatid fields again for the correct values.</p>\n<p>this plugin is relying on a 3rd party service to geolocate the Ip address https://ip-api.com/<br />\nhttps://ip-api.com/docs/legal  to see the servicesâ€™ a terms of use and/or privacy policies</p>\n<p>SHORTCODE EXAMPLE</p>\n<pre><code>[telegram_mess  message=\"Im so happy\" chatids=\"0000000,\" token=\"000000000:AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" showsitename=\"1\" showip=\"1\" showcity=\"1\" ]\n</code></pre>\n<p>SHORTCODE OPTIONS:</p>\n<ul>\n<li>\n<p>message : Your message to be sent. Example (message=&#8221;hello world&#8221;)</p>\n</li>\n<li>\n<p>chatids : Recipient(s) who will receive your message separated by comma (example chatids=&#8221;0000000,11111111&#8243;) , If not present this field  the shortcode will use default value in Plugin option page.</p>\n</li>\n<li>\n<p>token:  The token looks something like 123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11<br />\nIf not present this field, the shortcode will use default value in Plugin option page.</p>\n</li>\n<li>\n<p>showsitename: if set to &#8220;1&#8221; appends sitename after the message. Defaultvalue is &#8220;0&#8221; Example (showsitename=&#8221;1&#8243;)</p>\n</li>\n<li>\n<p>showip: if set to &#8220;1&#8221; appends user ip address after the message. Default value is &#8220;0&#8221; Example (showip=&#8221;1&#8243;)</p>\n</li>\n<li>\n<p>showcity: if set to &#8220;1&#8221; appends user city name after the message. Default value is &#8220;0&#8221; Example (showcity=&#8221;1&#8243;)</p>\n</li>\n</ul>\n<p>USE SHORTCODE IN YOU PHP CODE</p>\n<pre><code>&lt;?php\n\n$date = date(\"d-m-Y\");\n\ndo_shortcode('[telegram_mess  message=\"'.$date .'\" chatids=\"0000000,\" token=\"000000000:AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" showsitename=\"1\" showip=\"1\" showcity=\"1\" ]'); \n\n?&gt;\n</code></pre>\n<p>** WOOCOMERCE FILTER HOOKS **</p>\n<p>We have created 4 filter hooks for WooCommerce order notification message. 4 new positions: Message Header, Message Footer, before Items, and after Items. And we have created a filter through which you can add custom code to product rows, and if you want, you can replace and customize the entire row. :</p>\n<p>4 new Positions and code axample ( echo payment_status in the 4 positions)</p>\n<pre><code>&lt;?php\nadd_filter('nftb_order_header_message_hook', 'my_filter_function', 10, 1); \nadd_filter('nftb_order_before_items_hook', 'my_filter_function', 10, 1);\nadd_filter('nftb_order_after_items_hook', 'my_filter_function', 10, 1);\nadd_filter('nftb_order_footer_message_hook', 'my_filter_function', 10, 1);\n\nfunction my_filter_function($order_id) {\n  $order = wc_get_order($order_id);\n  if ($order) {\n      // Get order details\n      $order_data = $order-&gt;get_data();\n\n      // Extract specific order information\n\n      $payment_status = $order-&gt;get_status();\n      $payment_method = $order-&gt;get_payment_method();  \n  }\n  return  \"\\r\\n\\r\\n\".$payment_method.\"(\".$payment_status.\")\\r\\n\" ;\n}\n?&gt;\n</code></pre>\n<p>Product rows Filter with 2 different behaviors ADD or REPLACE LINE</p>\n<pre><code>&lt;?php\nadd_filter('nftb_order_product_line_hook', 'my_item_line_function', 10, 3);\n\nfunction my_item_line_function($message ,$product_id, $item) {\n\n    // ADD SOME CODE $product_id TO ORIGINAL row $message.\n    $modified_data = $message. \"-&gt;\".$product_id. \"\\r\\n\";\n\n    // REPLACE Product ITEM LINE CODE WITH YOUR CODE  without concatenate $message.\n    $modified_data = $product_id. \"\\r\\n\";\n\n    return $modified_data;\n} \n?&gt;\n</code></pre>\n<p>** USER LOGIN HOOKS **</p>\n<pre><code>&lt;?php\n//Filter to add code on user login notification message\nadd_filter('nftb_login_notification', 'custom_message_modifier', 10, 1);\n\n//Filter to add code  on user registration notification message\nadd_filter('nftb_user_registered_notification', 'custom_message_modifier', 10, 1);\n\n//Filter to add code when existing user fails login notification message\nadd_filter('nftb_existing_user_fails_login_notification', 'custom_message_modifier', 10, 1);\n\n//Filter to add code when unknown user fails login notification message\nadd_filter('nftb_unknown_user_fails_login_notification', 'custom_message_modifier', 10, 1);\n\n\n\n// ADD User registration date to notification message\nfunction custom_message_modifier( $user_id) {\n\n    $user_info = get_userdata($user_id);\n\n    if ($user_info) {\n        $registration_date = $user_info-&gt;user_registered;\n        $timestamp = strtotime($registration_date);\n        $locale = 'it_IT'; // Italian locale\n\n        $formatter = new IntlDateFormatter($locale, IntlDateFormatter::LONG, IntlDateFormatter::LONG, 'UTC');\n        $formatter-&gt;setPattern('d MMMM y HH:mm:ss');\n\n        $formatted_date = $formatter-&gt;format($timestamp);\n        $message =  \"\\r\\n\\r\\nUser gistration Date: \" . $formatted_date.\"\\r\\n\\r\\n\";\n    } else {\n\n      $message =  \"\\r\\n No info about user ! \\r\\n \" ;\n\n    }\n\n\n    return $message;\n}\n?&gt;\n</code></pre>\n<p>before the hooks we introduced 3 function so you can add things in message without changing the plug code<br />\nWe keep them for compatibility but encourage the use of hooks!!<br />\nPosition in the order message are:  before items, after items, product_line</p>\n<p>1) before the product list : (add order ID example)</p>\n<pre><code>&lt;?php function nftb_order_before_items($order_id){\n        return \"ORDER ID : \".$order_id; \n    } ?php&gt;\n</code></pre>\n<p>2) after the product list: (add order Currency example)</p>\n<pre><code>&lt;?php function nftb_order_after_items($order_id){\n    $order = wc_get_order( $order_id );\n        $data = $order-&gt;get_data(); // order data\n        return \"Currency: \".$data['currency']; \n    } ?php&gt;\n</code></pre>\n<p>3) at the end of the line of each individual product of the order: (add product slug example)</p>\n<pre><code>&lt;?php function nftb_order_product_line($product_id,$item){\n     $product = wc_get_product( $product_id );\n        return \" | \".$product-&gt;get_slug().\" \";\n        } ?php&gt;\n</code></pre>\n<p>Suggestions for other Notification, hooks and others plug integrations are Welcome !!</p>\n",
    "download_link": "https://downloads.wordpress.org/plugin/notification-for-telegram.zip",
    "upgrade_notice": {
        "": "<p>For Old versions Only !!\nafter updating to version&gt; 2 check the settings again, if you have problems in the update uninstall and reinstall the plug sorry for the problem</p>"
    },
    "screenshots": [
        {
            "src": "https://ps.w.org/notification-for-telegram/assets/screenshot-1.jpg?rev=2495082",
            "caption": "This is the Global option page in you Dashboard. Enter Token Chatid"
        },
        {
            "src": "https://ps.w.org/notification-for-telegram/assets/screenshot-2.jpg?rev=2495082",
            "caption": "Choose which notification you want to receive"
        },
        {
            "src": "https://ps.w.org/notification-for-telegram/assets/screenshot-3.jpg?rev=2495082",
            "caption": "A shortcode example."
        },
        {
            "src": "https://ps.w.org/notification-for-telegram/assets/screenshot-4.jpg?rev=2495195",
            "caption": "Order Telegram Notification"
        },
        {
            "src": "https://ps.w.org/notification-for-telegram/assets/screenshot-5.jpg?rev=2495082",
            "caption": "Login fails result on your Mobile app"
        },
        {
            "src": "https://ps.w.org/notification-for-telegram/assets/screenshot-6.jpg?rev=2495082",
            "caption": "Woocommerce Setting Tab"
        },
        {
            "src": "https://ps.w.org/notification-for-telegram/assets/screenshot-7.jpg?rev=2495082",
            "caption": "Cron Setting Tab keep update your system"
        },
        {
            "src": "https://ps.w.org/notification-for-telegram/assets/screenshot-8.jpg?rev=2981383",
            "caption": "Hook Position in Order Notification"
        },
        {
            "src": "https://ps.w.org/notification-for-telegram/assets/screenshot-9.jpg?rev=2981377",
            "caption": "Hook Position in Login Notification"
        }
    ],
    "tags": {
        "contact-form": "contact form",
        "mailchimp": "mailchimp",
        "telegram": "telegram",
        "woocommerce": "woocommerce"
    },
    "stable_tag": "trunk",
    "versions": {
        "2.7": "https://downloads.wordpress.org/plugin/notification-for-telegram.2.7.zip",
        "2.8": "https://downloads.wordpress.org/plugin/notification-for-telegram.2.8.zip",
        "2.9": "https://downloads.wordpress.org/plugin/notification-for-telegram.2.9.zip",
        "3.3": "https://downloads.wordpress.org/plugin/notification-for-telegram.3.3.zip"
    },
    "business_model": false,
    "repository_url": "",
    "commercial_support_url": "",
    "donate_link": "https://www.paypal.com/paypalme/rainafarai",
    "banners": {
        "low": "https://ps.w.org/notification-for-telegram/assets/banner-772x250.jpg?rev=2916711",
        "high": "https://ps.w.org/notification-for-telegram/assets/banner-1544x500.jpg?rev=2916711"
    },
    "icons": {
        "1x": "https://ps.w.org/notification-for-telegram/assets/icon-128x128.jpg?rev=2495082",
        "2x": "https://ps.w.org/notification-for-telegram/assets/icon-256x256.jpg?rev=2495082"
    },
    "blocks": [],
    "block_assets": [],
    "author_block_count": 0,
    "author_block_rating": 98,
    "blueprints": [],
    "preview_link": "",
    "language_packs": [
        {
            "type": "plugin",
            "slug": "notification-for-telegram",
            "language": "uk",
            "version": "3.3.1",
            "updated": "2024-02-28 13:04:21",
            "package": "http://downloads.wordpress.org/translation/plugin/notification-for-telegram/3.3.1/uk.zip"
        }
    ]
}